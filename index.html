<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026跨年倒數 | 北京時間</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft JhengHei", "PingFang TC", sans-serif;
        }
        /* 頁面整體樣式 - 跨年喜慶氛圍 */
        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #c01e25, #0a0a0a);
            color: #fff;
            overflow: hidden;
        }
        /* 主標題 */
        .title {
            font-size: 3rem;
            margin-bottom: 40px;
            color: #ffd700;
            text-shadow: 0 0 20px #ffd700, 0 0 40px #ff9900;
            text-align: center;
        }
        /* 常規倒數容器（天時分秒）- 持續顯示至最後10秒 */
        .countdown-normal {
            display: flex;
            gap: 30px;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }
        .countdown-normal .item {
            text-align: center;
        }
        .countdown-normal .num {
            font-size: 4rem;
            font-weight: bold;
            color: #fff;
            text-shadow: 0 0 10px #fff, 0 0 30px #ffd700;
            line-height: 1.2;
        }
        .countdown-normal .text {
            font-size: 1rem;
            color: #ffd966;
            margin-top: 8px;
        }
        /* 最後十秒專屬倒數（超大數字，僅顯示數字10→1） */
        .countdown-ten {
            font-size: 12rem;
            font-weight: 900;
            color: #ffd700;
            text-shadow: 0 0 30px #ffd700, 0 0 60px #ff9900, 0 0 90px #ff0000;
            display: none;
            animation: pulse 0.8s infinite alternate;
        }
        /* 數字跳動動畫 */
        @keyframes pulse {
            from { transform: scale(1); opacity: 1; }
            to { transform: scale(1.05); opacity: 0.95; }
        }
        /* 新年祝賀語容器 - 打字機動畫專用 */
        .happy-new-year {
            font-size: 3.2rem;
            font-weight: bold;
            color: #ffd700;
            text-align: center;
            text-shadow: 0 0 20px #ffd700, 0 0 40px #ff9900;
            display: none;
            white-space: pre-line;
            line-height: 1.6;
        }
        /* 打字機光標閃爍動畫 */
        .typing-cursor {
            display: inline-block;
            width: 8px;
            height: 50px;
            background-color: #ffd700;
            margin-left: 5px;
            animation: blink 0.6s infinite alternate;
            vertical-align: middle;
        }
        @keyframes blink {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        /* 時區提示 */
        .timezone {
            position: absolute;
            bottom: 20px;
            font-size: 1rem;
            color: #ffd966;
            opacity: 0.8;
        }
        /* 響應式适配（手機端自動縮放） */
        @media (max-width: 768px) {
            .title { font-size: 2rem; }
            .countdown-normal { gap: 15px; }
            .countdown-normal .num { font-size: 2.5rem; }
            .countdown-ten { font-size: 7rem; }
            .happy-new-year { font-size: 1.8rem; line-height: 1.8; }
            .typing-cursor { height: 30px; }
        }
    </style>
</head>
<body>
    <h1 class="title">2026新年倒數</h1>
    
    <!-- 最後十秒專屬數字倒數區 -->
    <div class="countdown-ten" id="tenCountdown"></div>
    
    <!-- 常規倒數區（天時分秒，持續顯示） -->
    <div class="countdown-normal" id="normalCountdown">
        <div class="item">
            <div class="num" id="days">00</div>
            <div class="text">天</div>
        </div>
        <div class="item">
            <div class="num" id="hours">00</div>
            <div class="text">時</div>
        </div>
        <div class="item">
            <div class="num" id="minutes">00</div>
            <div class="text">分</div>
        </div>
        <div class="item">
            <div class="num" id="seconds">00</div>
            <div class="text">秒</div>
        </div>
    </div>
    
    <!-- 新年祝賀語區 - 打字機動畫 -->
    <div class="happy-new-year" id="newYearMsg">
        <span id="typingText"></span><span class="typing-cursor"></span>
    </div>

    <div class="timezone">⏰ 精準北京時間 (UTC+8)</div>

    <script>
        // ========== 核心配置 ==========
        // 目標時間：北京時間2026年1月1日 00:00:00（強制UTC+8，不受本地時區影響）
        const TARGET_DATE = new Date('2026-01-01T00:00:00+08:00');
        // 定製祝賀語內容（嚴格按你的要求排版）
        const GREETING_TEXT = `HAPPY NEW YEAR
祝1E同學 學業進步
HE加油考取好成績`;
        // 打字機速度：每個字延遲120毫秒（可調整，數值越小越快）
        const TYPING_SPEED = 120;

        // 获取DOM元素
        const normalCountdown = document.getElementById('normalCountdown');
        const tenCountdown = document.getElementById('tenCountdown');
        const newYearMsg = document.getElementById('newYearMsg');
        const typingText = document.getElementById('typingText');
        const daysEl = document.getElementById('days');
        const hoursEl = document.getElementById('hours');
        const minutesEl = document.getElementById('minutes');
        const secondsEl = document.getElementById('seconds');

        // 標誌位：防止打字動畫重複執行
        let isTyped = false;

        // ========== 打字機動畫核心函數 ==========
        function typingAnimation(text, speed) {
            let index = 0;
            typingText.innerHTML = '';
            newYearMsg.style.display = 'block';
            // 逐字輸出
            const timer = setInterval(() => {
                if (index < text.length) {
                    typingText.innerHTML += text.charAt(index);
                    index++;
                } else {
                    clearInterval(timer);
                    // 動畫結束隱藏光標
                    document.querySelector('.typing-cursor').style.display = 'none';
                }
            }, speed);
        }

        // ========== 倒數計時核心函數 ==========
        function updateCountdown() {
            // 獲取當前「北京時間」時間戳（不受用戶本地時區干擾）
            const now = new Date();
            const currentTime = now.getTime() + (8 - now.getTimezoneOffset()/60) * 3600 * 1000;
            const targetTime = TARGET_DATE.getTime();
            const diff = targetTime - currentTime;

            // ✅ 狀態1：已到跨年零點 → 執行打字動畫
            if (diff <= 0) {
                normalCountdown.style.display = 'none';
                tenCountdown.style.display = 'none';
                if (!isTyped) {
                    isTyped = true;
                    typingAnimation(GREETING_TEXT, TYPING_SPEED);
                }
                return;
            }

            // 轉換剩餘時間為 天、時、分、秒
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);

            // ✅ 狀態2：剩餘時間 ≤10秒 → 僅顯示超大數字倒數（10、9、8...1）
            if (seconds <= 10 && days === 0 && hours === 0 && minutes === 0) {
                normalCountdown.style.display = 'none';
                tenCountdown.style.display = 'block';
                tenCountdown.textContent = seconds;
            } 
            // ✅ 狀態3：剩餘時間 >10秒 → 持續顯示天時分秒完整倒數
            else {
                tenCountdown.style.display = 'none';
                normalCountdown.style.display = 'flex';
                // 數字補零，保持兩位格式（01、02...）
                daysEl.textContent = String(days).padStart(2, '0');
                hoursEl.textContent = String(hours).padStart(2, '0');
                minutesEl.textContent = String(minutes).padStart(2, '0');
                secondsEl.textContent = String(seconds).padStart(2, '0');
            }
        }

        // 初始化執行一次（避免頁面加載延遲）
        updateCountdown();
        // 每秒更新一次倒數
        setInterval(updateCountdown, 1000);
    </script>
</body>
</html>
